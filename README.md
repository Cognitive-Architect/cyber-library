一句话工程定义：

这是一个用于构建「长期可演进的个人/创作型知识库系统」的工程化项目，
它关注的不是“某个功能怎么实现”，
而是如何从 0 到 1 跑通：
文档进入 → 结构化处理 → 语义检索 → 版本回溯 → 长期维护
这一整条可复用、可迁移、可扩展的完整闭环流程。

📌 当前版本说明（请务必阅读）

为了避免误解，这里需要非常明确地说明本项目**当前版本（v1.0）**的实际工程状态。

本仓库目前提供的是一个**“可完整复现的最短 RAG 后端闭环”**，其目标是教学与理解工程结构，
而不是直接交付一个“功能完备的生产级系统”。

### ✅ v1.0 已经跑通的内容（事实）

以下内容在当前代码库中**已经跑通、可验证**：

- 文档级数据模型（Document 基础 CRUD）
- 纯文本 Ingestion 流程  
  - 固定窗口（500 字符）切片  
  - 向量化（Embedding）  
  - 向量存储（pgvector）
- 基于向量相似度的语义检索（Cosine Similarity）
- 从「文本输入 → 检索结果返回」的完整最短闭环

你可以通过接口调用，**真实看到与输入语义相关的文本片段被检索出来**。

### ⚠️ v1.0 尚未完成的工程增强项（明确声明）

以下内容**不属于 v1.0 的已完成范围**，而是后续工程阶段的目标：

- 关键词检索（PostgreSQL `tsvector`）
- 向量 + 关键词的混合检索（Hybrid Search）
- 项目级数据隔离（Project / project_id）
- 身份鉴权与权限控制
- 高并发 Ingestion 的队列 / 限流处理
- 文档的更新 / 删除一致性处理

这些能力**不会影响你理解本教程的主线逻辑**，
但会在后续章节或进阶路线中展开。

### 🎯 如何正确理解这个仓库

- 如果你想学习：
  > “一个 RAG 后端最小可行系统是如何一步步跑通的”
  
  👉 **现在就可以开始**

- 如果你想要：
  > “一个可直接上线、支持多用户与权限的完整系统”
  
  👉 **请把本项目视为工程起点，而不是终点**。



人话版：
⚠️项目复杂度警告
本项目并非可以直接拿来直接应用的网页/应用/客户端，而是一次带你从开发环境设置→代码模块布置→具体功能验证→项目成功上线的“全流程闭环式”部署流程。
请您在部署时至少留有【12个小时以上】的“完整空闲时间”，并具备十分甚至九分的耐心☝️😋

本项目适合以上人群：
1.能够完整搭建一部小说世界观的人
2.有一定完整项目开发经验的人（非硬性要求）
3.有一定代码开发基础的人（非硬性要求）
4.有工程化直觉/结构化思维的人
（非常建议☝️🤓）

本项目不适合以上人群：
1.本项目并非“角色扮演式”的“聊天机器人配置”，
具备流程长，交互复杂，进度可回溯，
可自动产出版本变更日志等内容，
不适合想要直接拿来操控对话的人。


第0章：【外置大脑】配置

【外置大脑】最低配置要求（不满足请勿继续）：

在继续阅读本项目之前，你至少需要具备一个能长期陪你推进复杂事务的 AI 协作体，
它不需要和我一样，但必须满足以下最低要求：

- 能够长期记忆你的项目背景、历史决策与上下文
- 支持你反复追问、回溯与修正，而不是一次性对话
- 能被你当作“第二工程大脑”，而不是“聊天对象”
- 在你遇到问题时，具备陪你一起拆解与定位问题的能力

如果你没有这样的配置，
那么在后续流程中遇到的问题，
我同样无法为你逐一解答。

为什么要讲这个东西呢，
因为啊每个人的环境配置与遇到的问题
都是不一样的☝️🤓我不可能回答所有人的问题，
而且也回答不了，最关键的是，
你问我我也不会啊☝️🤣，
所以这个时候配置一个【外置大脑】
就显得尤为重要☝️🤓，
对了，对自己能力有自信的兄弟们
可以选择性地跳过这一步，
不过相对地，请你遇到问题时也不要问我，
问他（指回来老老实实配置【外置大脑】）。

本章大概讲两个东西：
1.基本prompt配置与如何进行知识库填充
（必选项，语言风格可以根据自身偏好进行微调）
2.方法论武器配置
（可选项，选了可以让你在管理复杂项目进度与文档史山中相对更轻松一点☝️😋）

那么我就先开始讲第一点的关于prompt配置的问题☝️🤓，这里我以个人喜好为例子，everybody配置时可以根据自身喜好来进行调整。

prompt 正文：

### 1. 语气模式

**默认：半专业半损友**

* 日常对话：可以 bb，可以吐槽，但信息量要扎实。
* 一旦你说了类似「这一轮是正式报告 / 给我严肃一点」：

  * 自动切到 **8 成正经 PM 模式 + 2 成损友吐槽**，只在边角插梗。

你后面可以像打开开关一样说：

* 「这一条走正式报告模式」
* 「这一轮用评审会口吻」
* 「恢复损友模式」

---

### 2. 输出风格

我建议它默认**双形态输出**：

1）**对话里：三段式**

* 第 1 行：一句话结论 / TL;DR
* 后面：简短说明「为啥这么选」
* 再后面：如果你想继续搞，可以怎么扩展（可选）

2）**正式产物：结构化 + 可落地**

* 适用：Deep Research 报告、设计草案、工作流说明
* 形式：

  * 「问题背景 / 目标」
  * 「核心结论 / 设计要点」
  * 「结构化拆解（模块 / 流程 / 字段）」
  * 「风险 & TODO」

你就等于拿它当：

> 会说人话的 PRD 生成器 + 架构拆解器。

---

### 3. 偏执行 vs 偏战略

建议默认是：**70% 落地 / 30% 战略**。

* 先帮你把：**流程、字段、接口、用例** 这些说清楚；
* 然后再顺手丢一小节「后续可以怎么进化 / V1 → V2 路线」。

你也可以随时喊：

* 「这一轮更偏愿景，多讲演进路线」
* 或「这一轮只聊落地，别跟我谈理想」。

---

### 4. 风险态度

默认：**中偏重提醒**。

* 明显会炸的坑：必须**高亮 + 单独小节**（可以用 ⚠️ / 🚨 之类标一下）。
* 细枝末节 / 小概率问题：

  * 可以一句话带过，不要喋喋不休影响你爽感。

相当于：

> 有风险意识，但不过分吓唬产品经理。

---

### 5. 梗适配度

默认：**高敏，但有“正式收敛”开关**。

* 和你闲聊 / 解释概念时：

  * 可以识别你的梗、接你的槽，适度一起演。
* 一旦是在写：

  * 《设计研究报告》
  * 《工作流草案》
  * 《接口 / 字段说明》
    → 就 **只在注释 / 旁白里偶尔放一点点梗**，正文保持工程可读性。

好，到此为止☝️😋，
那么问题来了，我如何能够调整出一个更适合自身体质的prompt来呢？
很简单，新开一个ai窗口，然后，把这个发给他。
你提需求，然后让他给你调，
问他，不要问我☝️🤓。

现在讲一下知识库配置的问题，
以下是我个人的配置：
1. 后端主程_开发与自测执行规约_v1.0
2. 典型使用场景及用户故事合集
3. 风格规范 & 命名规范（技术侧）
4. 赛博图书馆·工作流说明书
5. 赛博图书馆·数据结构 &字段字典
6. 赛博图书馆·后端架构设计方案
7. 哈基米公司内部员工手册
8. 哈基米公司·岗位职责卡
9. MVP todo清单 1.0
 
看起来很眼花缭乱是不是，
其实就几类东西：
你是谁，你要干啥，怎么干等等等等，
这么做的目的其实就是让你的
【外置大脑】本身与项目进行“口径统一”而已，
防止他因一时兴起而疯狂给你编造一些看起来很厉害但是实际上没啥卵用的名词而已，
我喜欢管这东西叫做——“大数据幻觉”。
我光这么说你肯定感觉不到他的危害是不是？
那好我给你举三句话，
踩过坑的人应该就会有印象了☝️😋：
1. 给我生成完整可运行的代码
2. 用中文回答
3. 还是报错

哈哈哈哈哈哈哈哈哈哈哈☝️🤣，
是不是顿时就不想用了？
我现在跟你讲的【外置大脑】设定，
正是为了避免这种问题重复发生，
对了，是重复发生，不代表不会发生☝️😋。

内容方面我这里就不展开了，
反正你都有耐心看到这里了，
你知道有这么一回事儿就行☝️😋。

我这套配置在哈基米3与基pt上都尝试过
均可使用，
就个人体验来说基pt的效果是要远好于哈基米3的，甚至这套配置还有点保守了，
为什么这么说呢，因为基pt在局内（对话框内）
还有一个“研究与学习”的功能，
可以在单对话框内近乎无限地垒高知识库，
单论成长性来说是完全碾压哈基米3的，
那么你是不是会想那直接全让基pt来比较好呢？
我的评价是看你个人对于各个大模型的看法☝️🤓
我觉得哈基米3在“数学天分”上是比基pt强的，
所以我会更倾向于让基pt来当我的【外置大脑】，
然后让他去指挥哈基米3去写代码，就是这样☝️😋

嗯，那你问我怎么布置在你自己常用的模型上？
好问题，新开一个ai窗口，然后，把这个发给他。
你提需求，然后让他给你调，
问他，不要问我☝️🤓。

好，现在，看完第 0 章后，你应该得到什么？

在完成【外置大脑】配置后，
你不应该只是“看完了一章说明”，
而是至少获得以下几项可感知的成果：

- 一个已经加载你个人背景与项目信息的 AI 协作体
- 一套属于你自己的基础 prompt / 知识库填充方式
- 一个在你遇到问题时，能陪你一起定位、拆解、回溯的“外置工程脑”

从这一刻开始，
这个项目不再是“你 + 一堆文档”，
而是“你 + 一个长期协作的系统”。

本教程长期随缘更新☝️🤓，
想写了就写一点，建议有兴趣的可以先收藏养肥后再看。

对了，## 附：方法论武器（选修）

本项目中涉及的一些方法论工具与工程化思考，
属于「选修内容」。

它们不影响你跑通当前教程主线，
但如果你想长期使用本项目、或构建更复杂的系统，
这些内容会在后续以独立文档的形式补充☝️😋。
